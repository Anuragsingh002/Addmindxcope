<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATL NEXUS | Elite Edition</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=Manrope:wght@200;400;600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* --- 1. LUXURY VARIABLES --- */
:root {
    --bg-core: #050505;
    --bg-panel: #0a0a0a;
    
    /* The Gold Standard */
    --gold: #D4AF37;
    --gold-gradient: linear-gradient(135deg, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);
    --gold-dim: rgba(212, 175, 55, 0.2);
    
    --text-main: #ffffff;
    --text-muted: #888888;
    
    --glass: rgba(255, 255, 255, 0.03);
    --glass-border: 1px solid rgba(255, 255, 255, 0.08);
    
    --font-royal: 'Cinzel', serif;
    --font-tech: 'Manrope', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

body {
    background-color: var(--bg-core);
    color: var(--text-main);
    font-family: var(--font-tech);
    min-height: 100vh;
    overflow-x: hidden;
    /* Subtle Grain Texture */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
}

/* Background Glow */
.glow-spot {
    position: fixed; width: 600px; height: 600px; background: var(--gold);
    filter: blur(150px); opacity: 0.05; border-radius: 50%; z-index: -1;
    animation: pulse 10s infinite alternate;
}
.glow-1 { top: -200px; left: -200px; }
.glow-2 { bottom: -200px; right: -200px; }
@keyframes pulse { 0% { opacity: 0.05; } 100% { opacity: 0.1; } }

/* --- 2. HEADER --- */
header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 1.5rem 5%;
    background: rgba(5, 5, 5, 0.8);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(212, 175, 55, 0.2);
    position: sticky; top: 0; z-index: 100;
}

.brand-wrapper { display: flex; align-items: center; gap: 15px; }
.logo-symbol {
    font-size: 2rem;
    background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 15px rgba(212, 175, 55, 0.5));
}
.brand-name h1 { font-family: var(--font-royal); font-size: 1.5rem; letter-spacing: 2px; color: white; margin: 0; }
.brand-name p { font-size: 0.65rem; color: var(--gold); text-transform: uppercase; letter-spacing: 3px; }

.cart-btn {
    position: relative;
    padding: 12px 30px;
    background: transparent;
    border: 1px solid var(--gold);
    color: var(--gold);
    font-family: var(--font-royal);
    font-weight: 700; letter-spacing: 1px;
    cursor: pointer; transition: 0.4s;
    overflow: hidden;
}
.cart-btn::before {
    content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
    background: var(--gold-gradient); transition: 0.4s; z-index: -1;
}
.cart-btn:hover::before { left: 0; }
.cart-btn:hover { color: black; box-shadow: 0 0 20px var(--gold-dim); border-color: transparent; }

.badge {
    position: absolute; top: -5px; right: -5px;
    background: white; color: black; font-family: var(--font-tech);
    font-weight: 800; font-size: 0.7rem; width: 20px; height: 20px;
    border-radius: 50%; display: flex; justify-content: center; align-items: center;
}

/* --- 3. HERO --- */
.hero {
    text-align: center; padding: 6rem 1rem 4rem; position: relative;
}
.hero h2 {
    font-family: var(--font-royal); font-size: 4rem; margin-bottom: 1rem;
    background: linear-gradient(to bottom, #ffffff, #888888);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}
.hero p {
    font-size: 1.2rem; color: var(--text-muted); max-width: 700px; margin: 0 auto;
    border-left: 2px solid var(--gold); padding-left: 15px;
}

/* --- 4. SHOWCASE (Hall of Fame) --- */
.showcase {
    max-width: 1400px; margin: 0 auto 5rem; padding: 0 2rem;
}
.section-head {
    font-family: var(--font-royal); font-size: 2rem; color: var(--gold);
    text-align: center; margin-bottom: 3rem; letter-spacing: 4px;
    position: relative; display: inline-block; left: 50%; transform: translateX(-50%);
}
.section-head::after {
    content: ''; display: block; width: 60px; height: 2px; background: var(--gold);
    margin: 10px auto 0;
}

.showcase-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;
}
.showcase-card {
    background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(0,0,0,0) 100%);
    border: 1px solid rgba(255,255,255,0.1); padding: 30px;
    transition: 0.3s;
}
.showcase-card:hover { border-color: var(--gold); transform: translateY(-5px); }
.showcase-card h3 { font-family: var(--font-royal); margin-bottom: 10px; color: white; }
.showcase-card p { font-size: 0.9rem; color: #888; line-height: 1.6; }

/* --- 5. INVENTORY GRID --- */
.container { max-width: 1400px; margin: 0 auto 6rem; padding: 0 2rem; }

.grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 40px;
}

.card {
    background: #0a0a0a;
    border: 1px solid #1a1a1a;
    position: relative; overflow: hidden;
    transition: 0.4s ease;
    display: flex; flex-direction: column;
}
.card:hover {
    border-color: var(--gold);
    box-shadow: 0 10px 40px -10px rgba(212, 175, 55, 0.15);
}

.img-container {
    height: 220px; width: 100%; overflow: hidden; position: relative;
    border-bottom: 1px solid #1a1a1a;
}
.img-container img {
    width: 100%; height: 100%; object-fit: cover;
    transition: 0.6s cubic-bezier(0.2, 1, 0.2, 1);
    filter: grayscale(40%);
}
.card:hover .img-container img { transform: scale(1.1); filter: grayscale(0%); }

.stock-tag {
    position: absolute; top: 15px; right: 15px;
    font-size: 0.7rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1px;
    padding: 6px 12px; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px);
    border: 1px solid #333; color: white;
}
.st-high { border-color: #10b981; color: #10b981; }
.st-out { border-color: #ef4444; color: #ef4444; }

.card-body { padding: 1.5rem; display: flex; flex-direction: column; flex: 1; }
.card h3 { font-family: var(--font-royal); font-size: 1.3rem; margin-bottom: 5px; color: white; }
.type { font-size: 0.75rem; text-transform: uppercase; color: var(--gold); margin-bottom: 15px; letter-spacing: 1px; }

select {
    width: 100%; padding: 12px; background: #111; border: 1px solid #333;
    color: #ccc; font-family: var(--font-tech); margin-bottom: 15px;
    cursor: pointer; transition: 0.3s;
}
select:hover { border-color: var(--gold); }

/* The Special "Add" Button */
.add-btn {
    width: 100%; padding: 15px; margin-top: auto;
    background: transparent; border: 1px solid #333;
    color: white; font-family: var(--font-royal); font-weight: 700; letter-spacing: 1px;
    cursor: pointer; transition: all 0.3s ease;
    position: relative; overflow: hidden;
}
.add-btn:hover:not(:disabled) {
    background: #151515; border-color: white;
}
.add-btn:disabled { opacity: 0.3; cursor: not-allowed; }

/* Success State Class */
.add-btn.success {
    background: var(--gold-gradient) !important;
    border-color: transparent !important;
    color: black !important;
    box-shadow: 0 0 20px var(--gold-dim);
}

/* --- 6. FOOTER --- */
footer {
    border-top: 1px solid #222; padding: 4rem 2rem;
    text-align: center; color: #444;
}

/* --- 7. CART DRAWER (Big & Wide) --- */
.drawer {
    position: fixed; top: 0; right: -550px; width: 500px; height: 100vh;
    background: #080808; border-left: 1px solid #222; z-index: 200;
    transition: 0.5s cubic-bezier(0.7, 0, 0.2, 1);
    display: flex; flex-direction: column; padding: 40px;
    box-shadow: -50px 0 100px rgba(0,0,0,0.8);
}
.drawer.active { right: 0; }

.drawer-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; border-bottom: 1px solid #222; padding-bottom: 20px; }
.drawer-head h2 { font-family: var(--font-royal); color: var(--gold); margin: 0; }
.close-icon { color: #666; cursor: pointer; transition: 0.3s; font-size: 1.5rem; }
.close-icon:hover { color: white; transform: rotate(90deg); }

.cart-items { flex: 1; overflow-y: auto; }
.cart-item {
    display: flex; justify-content: space-between; align-items: center;
    padding: 20px; border-bottom: 1px solid #1a1a1a;
    background: rgba(255,255,255,0.01); margin-bottom: 10px;
}
.cart-item h4 { font-family: var(--font-royal); margin: 0 0 5px 0; color: white; }
.cart-item p { margin: 0; color: #666; font-size: 0.85rem; }

.drawer-foot { margin-top: auto; }
.checkout-btn {
    width: 100%; padding: 20px; background: var(--gold-gradient);
    border: none; color: black; font-family: var(--font-royal); font-weight: 800; font-size: 1rem;
    cursor: pointer; transition: 0.3s; letter-spacing: 2px;
}
.checkout-btn:hover { filter: brightness(1.1); box-shadow: 0 0 30px var(--gold-dim); }

/* --- 8. ELITE MODAL (With Return Date) --- */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.95); z-index: 300; display: none;
    justify-content: center; align-items: center;
}
.modal-overlay.active { display: flex; animation: fadeIn 0.4s ease; }

.modal-box {
    background: #0c0c0c; border: 1px solid var(--gold);
    width: 550px; padding: 40px; position: relative;
    box-shadow: 0 0 60px rgba(212, 175, 55, 0.1);
}

.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.form-grp { margin-bottom: 25px; }
.form-grp label { display: block; color: var(--gold); font-family: var(--font-royal); font-size: 0.8rem; margin-bottom: 10px; letter-spacing: 1px; }
.form-grp input, .form-grp select {
    width: 100%; padding: 14px; background: #050505; border: 1px solid #222;
    color: white; font-family: var(--font-tech); transition: 0.3s;
}
.form-grp input:focus, .form-grp select:focus { border-color: var(--gold); }

@keyframes fadeIn { from{opacity:0; transform:scale(0.95);} to{opacity:1; transform:scale(1);} }

</style>
</head>
<body>

<div class="glow-spot glow-1"></div>
<div class="glow-spot glow-2"></div>

<header>
    <div class="brand-wrapper">
        <div class="logo-symbol"><i class="fa-solid fa-gem"></i></div>
        <div class="brand-name">
            <h1>ATL NEXUS</h1>
            <p>Radiant International School</p>
        </div>
    </div>
    <div class="cart-btn" onclick="toggleCart()">
        REQUISITION CART
        <div id="badge" class="badge">0</div>
    </div>
</header>

<section class="hero">
    <h2>The Gold Standard<br>of Innovation.</h2>
    <p>Access the elite component repository. Designed for high-performance projects and research.</p>
</section>

<section class="showcase">
    <div class="section-head">ELITE PROJECTS</div>
    <div class="showcase-grid">
        <div class="showcase-card">
            <h3>Smart Vision Stick</h3>
            <p><strong>Dev:</strong> Class XI-A<br>Ultrasonic navigation aid for the visually impaired. Uses Arduino Nano & Haptic Feedback.</p>
        </div>
        <div class="showcase-card">
            <h3>Agri-Tech Drone</h3>
            <p><strong>Dev:</strong> Class IX-B<br>Crop monitoring quadcopter using Raspberry Pi Camera and AI image processing.</p>
        </div>
        <div class="showcase-card">
            <h3>Home Automation V2</h3>
            <p><strong>Dev:</strong> Class X-C<br>Voice-controlled lighting system using ESP8266 and Google Assistant API.</p>
        </div>
    </div>
</section>

<div class="container">
    <div class="section-head">COMPONENT VAULT</div>
    <div id="grid" class="grid"></div>
</div>

<footer>
    <p>&copy; 2024 Radiant International School â€¢ Atal Innovation Mission</p>
</footer>

<div id="sidebar" class="drawer">
    <div class="drawer-head">
        <h2>YOUR SELECTION</h2>
        <i class="fa-solid fa-xmark close-icon" onclick="toggleCart()"></i>
    </div>
    <div id="cartList" class="cart-items">
        <div style="text-align:center; color:#444; margin-top:80px;">
            <i class="fa-solid fa-diamond" style="font-size:3rem; opacity:0.2; margin-bottom:15px;"></i>
            <p>Cart is empty.</p>
        </div>
    </div>
    <div class="drawer-foot">
        <button class="checkout-btn" onclick="openModal()">INITIALIZE ISSUE</button>
    </div>
</div>

<div id="modal" class="modal-overlay">
    <div class="modal-box">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h2 style="font-family:var(--font-royal); color:white; margin:0;">Student Verification</h2>
            <i class="fa-solid fa-xmark" style="color:#666; cursor:pointer;" onclick="closeModal()"></i>
        </div>
        <p style="color:#666; margin-bottom:30px;">Enter details. Return date is auto-calculated (7 Days).</p>

        <form onsubmit="finish(event)">
            <div class="form-grp">
                <label>FULL NAME</label>
                <input type="text" id="sName" placeholder="e.g. Aryan Singh" required>
            </div>
            
            <div class="form-row">
                <div class="form-grp">
                    <label>CLASS</label>
                    <select id="sClass" required>
                        <option value="">Select</option>
                        <option>VI</option><option>VII</option><option>VIII</option>
                        <option>IX</option><option>X</option><option>XI</option><option>XII</option>
                    </select>
                </div>
                <div class="form-grp">
                    <label>SECTION</label>
                    <select id="sSection" required>
                        <option value="">Select</option>
                        <option>A</option><option>B</option><option>C</option><option>D</option><option>E</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-grp">
                    <label>ISSUE DATE</label>
                    <input type="date" id="issueDate" readonly style="color:#666; cursor:not-allowed;">
                </div>
                <div class="form-grp">
                    <label>RETURN DATE</label>
                    <input type="date" id="returnDate" required style="border-color:var(--gold);">
                </div>
            </div>

            <button class="checkout-btn">CONFIRM REQUEST</button>
        </form>
    </div>
</div>

<script>
/* --- CONFIG --- */
const inventory = [
    { id:1, name:"Arduino Uno R3", type:"Controller", stock:12, img:"https://upload.wikimedia.org/wikipedia/commons/3/38/Arduino_Uno_-_R3.jpg" },
    { id:2, name:"Raspberry Pi 4", type:"Computer", stock:3, img:"https://images.unsplash.com/photo-1629739884942-8678d13afddc?w=500" },
    { id:3, name:"Lidar Sensor V2", type:"Advanced Sensor", stock:2, img:"https://m.media-amazon.com/images/I/51+u0w0-t1L.jpg" },
    { id:4, name:"Quadcopter Frame", type:"Robotics", stock:5, img:"https://m.media-amazon.com/images/I/61y8gB-w+LL.jpg" },
    { id:5, name:"Ultrasonic Sensor", type:"Sensor", stock:30, img:"https://upload.wikimedia.org/wikipedia/commons/3/39/Ultrasonic_Sensor.jpg" },
    { id:6, name:"Servo MG995", type:"Actuator", stock:8, img:"https://upload.wikimedia.org/wikipedia/commons/d/d3/Micro_servo.jpg" },
    { id:7, name:"PLA Filament (1kg)", type:"3D Printing", stock:10, img:"https://m.media-amazon.com/images/I/6166K8K-nQL._AC_SL1000_.jpg" },
    { id:8, name:"OLED Display", type:"Output", stock:15, img:"https://m.media-amazon.com/images/I/61k8v9WkpmL._AC_SX679_.jpg" }
];

let cart = [];

/* --- INIT --- */
window.onload = () => {
    renderGrid();
    setupDates();
};

function setupDates() {
    const today = new Date();
    const nextWeek = new Date(today);
    nextWeek.setDate(today.getDate() + 7); // Add 7 days

    document.getElementById('issueDate').valueAsDate = today;
    document.getElementById('returnDate').valueAsDate = nextWeek;
}

function renderGrid() {
    const grid = document.getElementById('grid');
    grid.innerHTML = inventory.map(item => {
        let stockClass = item.stock > 5 ? 'st-high' : 'st-out';
        let stockText = item.stock > 0 ? `${item.stock} AVAILABLE` : 'OUT OF STOCK';
        let disabled = item.stock === 0 ? 'disabled' : '';
        let btnText = item.stock === 0 ? 'UNAVAILABLE' : 'ADD TO CART';

        return `
        <div class="card">
            <span class="stock-tag ${stockClass}">${stockText}</span>
            <div class="img-container">
                <img src="${item.img}" alt="${item.name}">
            </div>
            <div class="card-body">
                <span class="type">${item.type}</span>
                <h3>${item.name}</h3>
                
                <select id="proj-${item.id}" ${disabled}>
                    <option value="">Select Project...</option>
                    <option>Smart Blind Stick</option>
                    <option>Gesture Bot</option>
                    <option>Drone Development</option>
                    <option>3D Design</option>
                    <option>Other</option>
                </select>

                <button id="btn-${item.id}" class="add-btn" onclick="addToCart(${item.id})" ${disabled}>
                    ${btnText}
                </button>
            </div>
        </div>
        `;
    }).join('');
}

/* --- LOGIC --- */
function addToCart(id) {
    const item = inventory.find(i => i.id === id);
    const select = document.getElementById(`proj-${id}`);
    const btn = document.getElementById(`btn-${id}`);

    if(!select.value) return alert("Please select a Project Purpose first.");
    if(cart.find(c => c.id === id)) return alert("Item already in cart.");

    cart.push({...item, project: select.value});
    
    // THE ELITE ANIMATION
    const originalText = btn.innerHTML;
    btn.innerHTML = "ADDED";
    btn.classList.add('success');
    
    setTimeout(() => {
        btn.innerHTML = originalText;
        btn.classList.remove('success');
    }, 1500);

    updateCartUI();
}

function updateCartUI() {
    document.getElementById('badge').innerText = cart.length;
    const list = document.getElementById('cartList');
    
    if(cart.length === 0) {
        list.innerHTML = `<div style="text-align:center; color:#444; margin-top:80px;">
            <i class="fa-solid fa-diamond" style="font-size:3rem; opacity:0.2; margin-bottom:15px;"></i>
            <p>Cart is empty.</p></div>`;
        return;
    }

    list.innerHTML = cart.map((c, i) => `
        <div class="cart-item">
            <div>
                <h4 style="margin:0; color:white;">${c.name}</h4>
                <small style="color:#888;">For: ${c.project}</small>
            </div>
            <i class="fa-solid fa-trash" style="color:#ef4444; cursor:pointer;" onclick="remove(${i})"></i>
        </div>
    `).join('');
}

function remove(index) { cart.splice(index, 1); updateCartUI(); }
function toggleCart() { document.getElementById('sidebar').classList.toggle('active'); }

/* --- CHECKOUT --- */
function openModal() {
    if(cart.length === 0) return alert("Cart is empty.");
    document.getElementById('modal').classList.add('active');
}
function closeModal() { document.getElementById('modal').classList.remove('active'); }

function finish(e) {
    e.preventDefault();
    const name = document.getElementById('sName').value;
    const cls = document.getElementById('sClass').value;
    const sec = document.getElementById('sSection').value;
    const retDate = document.getElementById('returnDate').value;

    alert(`REQUEST APPROVED\n\nStudent: ${name}\nClass: ${cls}-${sec}\nReturn By: ${retDate}\n\nPlease proceed to the Lab.`);
    
    cart = [];
    updateCartUI();
    closeModal();
    toggleCart();
    document.querySelector('form').reset();
    setupDates();
}
</script>
</body>
</html>
