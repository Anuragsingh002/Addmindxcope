<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATL NEXUS | Radiant International School</title>

<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
/* --- 1. PREMIUM VARIABLES --- */
:root {
    --primary: #2563eb;       /* Royal Tech Blue */
    --primary-dark: #1e40af;
    --secondary: #0f172a;     /* Deep Navy */
    --accent: #f59e0b;        /* Amber Gold */
    --success: #10b981;       /* Emerald */
    --danger: #ef4444;        /* Red */
    
    --bg-body: #f8fafc;       /* Ceramic White */
    --bg-card: #ffffff;
    
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --shadow-glow: 0 0 15px rgba(37, 99, 235, 0.2);
    
    --radius: 16px;
    --font: 'Plus Jakarta Sans', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

body {
    background-color: var(--bg-body);
    font-family: var(--font);
    color: var(--secondary);
    min-height: 100vh;
    overflow-x: hidden;
    /* Subtle Mesh Background */
    background-image: 
        radial-gradient(at 0% 0%, rgba(37, 99, 235, 0.05) 0px, transparent 50%),
        radial-gradient(at 100% 0%, rgba(245, 158, 11, 0.05) 0px, transparent 50%);
}

/* --- 2. FLOATING NAVBAR --- */
header {
    position: sticky; top: 20px; z-index: 100;
    max-width: 1400px; margin: 0 auto;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 24px;
    padding: 15px 30px;
    display: flex; justify-content: space-between; align-items: center;
    box-shadow: var(--shadow-md);
}

.brand { display: flex; align-items: center; gap: 12px; }
.logo-icon {
    width: 40px; height: 40px; background: var(--primary); color: white;
    border-radius: 10px; display: flex; align-items: center; justify-content: center;
    font-size: 1.2rem; box-shadow: var(--shadow-glow);
}
.brand-text h1 { font-size: 1.25rem; font-weight: 800; letter-spacing: -0.5px; line-height: 1.1; }
.brand-text p { font-size: 0.75rem; color: #64748b; font-weight: 600; text-transform: uppercase; }

.nav-right { display: flex; gap: 15px; align-items: center; }

.cart-trigger {
    background: var(--secondary); color: white;
    padding: 12px 24px; border-radius: 12px;
    font-weight: 600; cursor: pointer; transition: 0.3s;
    display: flex; align-items: center; gap: 10px;
    box-shadow: 0 10px 20px rgba(15, 23, 42, 0.15);
}
.cart-trigger:hover { transform: translateY(-2px); box-shadow: 0 15px 30px rgba(15, 23, 42, 0.25); }
.badge {
    background: var(--accent); color: white; font-size: 0.75rem;
    padding: 2px 8px; border-radius: 6px; font-weight: 800;
}

/* --- 3. HERO SECTION --- */
.hero {
    text-align: center; padding: 6rem 1rem 4rem;
    max-width: 900px; margin: 0 auto;
}
.hero-badge {
    display: inline-block; background: #dbeafe; color: var(--primary);
    padding: 6px 16px; border-radius: 20px; font-size: 0.85rem; font-weight: 700;
    margin-bottom: 1.5rem; letter-spacing: 0.5px;
}
.hero h2 {
    font-size: 3.5rem; font-weight: 800; line-height: 1.1; margin-bottom: 1.5rem;
    background: linear-gradient(135deg, var(--secondary) 0%, #475569 100%);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
}
.hero p {
    font-size: 1.2rem; color: #64748b; line-height: 1.6;
}

/* --- 4. CARD GRID --- */
.container { max-width: 1400px; margin: 0 auto 5rem; padding: 0 2rem; }

.grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px;
}

.card {
    background: var(--bg-card); border-radius: 20px;
    padding: 1.5rem; position: relative;
    border: 1px solid #e2e8f0;
    transition: all 0.3s ease;
    display: flex; flex-direction: column;
}
.card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary);
}

.stock-pill {
    position: absolute; top: 1.5rem; right: 1.5rem; z-index: 10;
    background: rgba(255,255,255,0.9); backdrop-filter: blur(4px);
    padding: 6px 12px; border-radius: 30px;
    font-size: 0.75rem; font-weight: 700;
    box-shadow: var(--shadow-sm); border: 1px solid #f1f5f9;
}
.st-high { color: var(--success); }
.st-low { color: var(--accent); }
.st-out { color: var(--danger); }

.img-box {
    height: 200px; border-radius: 12px; overflow: hidden;
    background: #f1f5f9; margin-bottom: 1.5rem;
    display: flex; align-items: center; justify-content: center;
}
.img-box img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; mix-blend-mode: multiply; }
.card:hover .img-box img { transform: scale(1.1); }

.card-info { flex: 1; display: flex; flex-direction: column; }
.cat-tag { color: var(--primary); font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
.card h3 { font-size: 1.25rem; font-weight: 700; margin-bottom: 5px; }

/* Form Elements inside Card */
select {
    width: 100%; padding: 12px; border-radius: 10px;
    border: 1px solid #cbd5e1; background: #f8fafc;
    color: var(--secondary); font-family: var(--font); margin: 15px 0;
    cursor: pointer; transition: 0.2s;
}
select:focus { border-color: var(--primary); background: #fff; }

/* Button Interaction */
.btn-add {
    width: 100%; padding: 14px;
    background: var(--bg-body); color: var(--secondary);
    border: 2px solid #e2e8f0; border-radius: 12px;
    font-weight: 700; cursor: pointer; transition: 0.3s;
    font-family: var(--font); margin-top: auto;
    display: flex; justify-content: center; align-items: center; gap: 8px;
}
.btn-add:hover:not(:disabled) {
    border-color: var(--secondary); background: var(--secondary); color: white;
}
.btn-add:disabled { opacity: 0.5; cursor: not-allowed; }

/* Active/Success State for Button */
.btn-add.active {
    background-color: var(--success) !important;
    border-color: var(--success) !important;
    color: white !important;
    animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
@keyframes pop { 50% { transform: scale(1.05); } }

/* --- 5. EXPANDED CART DRAWER (BIGGER) --- */
.drawer {
    position: fixed; top: 0; right: -600px;
    width: 500px; /* Bigger Width */
    height: 100vh;
    background: #fff; z-index: 200;
    box-shadow: -30px 0 60px rgba(0,0,0,0.15);
    transition: 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
    display: flex; flex-direction: column;
}
.drawer.open { right: 0; }

.drawer-header {
    padding: 30px; border-bottom: 1px solid #f1f5f9;
    display: flex; justify-content: space-between; align-items: center;
}
.drawer-header h2 { font-size: 1.5rem; margin: 0; }
.close-btn { font-size: 1.5rem; cursor: pointer; color: #94a3b8; transition: 0.2s; }
.close-btn:hover { color: var(--danger); transform: rotate(90deg); }

.drawer-body { flex: 1; overflow-y: auto; padding: 30px; background: #f8fafc; }

.cart-card {
    background: white; padding: 20px; border-radius: 16px;
    box-shadow: var(--shadow-sm); margin-bottom: 15px;
    display: flex; justify-content: space-between; align-items: center;
    border: 1px solid #e2e8f0;
}
.cart-card h4 { font-size: 1rem; margin: 0 0 4px 0; }
.cart-card p { font-size: 0.85rem; color: #64748b; margin: 0; }

.drawer-footer { padding: 30px; background: white; border-top: 1px solid #f1f5f9; }
.checkout-btn {
    width: 100%; padding: 18px; background: var(--secondary); color: white;
    border: none; border-radius: 14px; font-size: 1rem; font-weight: 700;
    cursor: pointer; box-shadow: 0 10px 20px rgba(15, 23, 42, 0.2);
    transition: 0.3s; display: flex; justify-content: center; align-items: center; gap: 10px;
}
.checkout-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 25px rgba(15, 23, 42, 0.3); }

/* --- 6. STUDENT MODAL --- */
.overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(5px);
    z-index: 300; display: none; justify-content: center; align-items: center;
}
.overlay.active { display: flex; animation: fadeUp 0.3s ease; }

.modal {
    background: white; width: 500px; padding: 40px; border-radius: 24px;
    box-shadow: var(--shadow-lg);
}
.input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.field { margin-bottom: 20px; }
.field label { display: block; font-size: 0.85rem; font-weight: 700; color: #64748b; margin-bottom: 8px; }
.field input, .field select {
    width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 10px;
    font-family: var(--font); outline: none; transition: 0.2s;
}
.field input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37,99,235,0.1); }

@keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* Footer */
footer { text-align: center; color: #94a3b8; padding: 40px; border-top: 1px solid #e2e8f0; margin-top: 40px; }

/* Responsive */
@media(max-width: 600px) {
    .drawer { width: 100%; }
    .hero h2 { font-size: 2.5rem; }
}
</style>
</head>
<body>

<header>
    <div class="brand">
        <div class="logo-icon"><i class="fa-solid fa-layer-group"></i></div>
        <div class="brand-text">
            <h1>ATL NEXUS</h1>
            <p>Radiant International School</p>
        </div>
    </div>
    <div class="nav-right">
        <div class="cart-trigger" onclick="toggleDrawer()">
            <i class="fa-solid fa-basket-shopping"></i>
            <span>Requests</span>
            <div id="badge" class="badge">0</div>
        </div>
    </div>
</header>

<section class="hero">
    <div class="hero-badge">âš¡ Powered by Atal Innovation Mission</div>
    <h2>Build the Future with<br>Elite Hardware.</h2>
    <p>Select premium components from our lab repository for your next breakthrough project.</p>
</section>

<div class="container">
    <div id="grid" class="grid"></div>
</div>

<footer>
    <p>&copy; 2024 Radiant International School, Patna. All Rights Reserved.</p>
</footer>

<div id="drawer" class="drawer">
    <div class="drawer-header">
        <h2>Your Request Log</h2>
        <div class="close-btn" onclick="toggleDrawer()"><i class="fa-solid fa-xmark"></i></div>
    </div>
    
    <div id="cartItems" class="drawer-body">
        <div style="text-align:center; color:#94a3b8; margin-top:80px;">
            <i class="fa-solid fa-box-open" style="font-size:3rem; opacity:0.3; margin-bottom:10px;"></i>
            <p>Your cart is empty.</p>
        </div>
    </div>

    <div class="drawer-footer">
        <div style="display:flex; justify-content:space-between; margin-bottom:15px; font-weight:700;">
            <span>Total Items</span>
            <span id="totalCount">0</span>
        </div>
        <button class="checkout-btn" onclick="openModal()">
            Proceed to Checkout <i class="fa-solid fa-arrow-right"></i>
        </button>
    </div>
</div>

<div id="modal" class="overlay">
    <div class="modal">
        <h2 style="margin-bottom:5px;">Student Details</h2>
        <p style="color:#64748b; margin-bottom:25px;">Finalize your component request.</p>

        <form onsubmit="finish(event)">
            <div class="field">
                <label>Student Name</label>
                <input type="text" id="sName" placeholder="e.g. Rahul Kumar" required>
            </div>
            
            <div class="input-row">
                <div class="field">
                    <label>Class</label>
                    <select id="sClass" required>
                        <option value="">Select</option>
                        <option>VI</option><option>VII</option><option>VIII</option>
                        <option>IX</option><option>X</option><option>XI</option><option>XII</option>
                    </select>
                </div>
                <div class="field">
                    <label>Section</label>
                    <select id="sSection" required>
                        <option value="">Select</option>
                        <option>A</option><option>B</option><option>C</option><option>D</option><option>E</option>
                    </select>
                </div>
            </div>

            <div class="input-row">
                <div class="field">
                    <label>Roll No.</label>
                    <input type="text" id="sRoll" required>
                </div>
                <div class="field">
                    <label>Issue Date (Today)</label>
                    <input type="date" id="sDate" required readonly>
                </div>
            </div>

            <button class="checkout-btn">Confirm Request</button>
            <button type="button" onclick="closeModal()" style="width:100%; padding:15px; background:transparent; border:none; color:#64748b; cursor:pointer; margin-top:10px;">Cancel</button>
        </form>
    </div>
</div>

<script>
/* --- 1. PREMIUM DATA --- */
const inventory = [
    { id:1, name:"Arduino Uno R3", type:"Controller", stock:12, img:"https://upload.wikimedia.org/wikipedia/commons/3/38/Arduino_Uno_-_R3.jpg" },
    { id:2, name:"Raspberry Pi 4", type:"Microcomputer", stock:3, img:"https://images.unsplash.com/photo-1629739884942-8678d13afddc?w=500" },
    { id:3, name:"Lidar Sensor V2", type:"Advanced Sensor", stock:2, img:"https://m.media-amazon.com/images/I/51+u0w0-t1L.jpg" }, // Placeholder img
    { id:4, name:"Drone Kit (F450)", type:"Robotics", stock:5, img:"https://m.media-amazon.com/images/I/61y8gB-w+LL.jpg" }, // Placeholder
    { id:5, name:"Ultrasonic HC-SR04", type:"Sensor", stock:30, img:"https://upload.wikimedia.org/wikipedia/commons/3/39/Ultrasonic_Sensor.jpg" },
    { id:6, name:"Servo MG995", type:"Actuator", stock:8, img:"https://upload.wikimedia.org/wikipedia/commons/d/d3/Micro_servo.jpg" },
    { id:7, name:"3D Printer Filament (PLA)", type:"Material", stock:10, img:"https://m.media-amazon.com/images/I/6166K8K-nQL._AC_SL1000_.jpg" },
    { id:8, name:"OLED Display 0.96", type:"Output", stock:15, img:"https://m.media-amazon.com/images/I/61k8v9WkpmL._AC_SX679_.jpg" }
];

let cart = [];

/* --- 2. INIT & RENDER --- */
window.onload = () => {
    renderGrid();
    document.getElementById('sDate').valueAsDate = new Date(); // Auto-fill date
};

function renderGrid() {
    const grid = document.getElementById('grid');
    grid.innerHTML = inventory.map(item => {
        let stockClass = item.stock > 5 ? 'st-high' : (item.stock > 0 ? 'st-low' : 'st-out');
        let stockText = item.stock > 0 ? `${item.stock} Available` : 'Out of Stock';
        let disabled = item.stock === 0 ? 'disabled' : '';
        let btnText = item.stock === 0 ? 'Unavailable' : 'Add to Cart';

        return `
        <div class="card">
            <span class="stock-pill ${stockClass}">${stockText}</span>
            <div class="img-box"><img src="${item.img}" alt="${item.name}"></div>
            
            <div class="card-info">
                <span class="cat-tag">${item.type}</span>
                <h3>${item.name}</h3>
                
                <select id="proj-${item.id}" ${disabled}>
                    <option value="">Select Purpose...</option>
                    <option>Line Follower</option>
                    <option>Smart Home</option>
                    <option>Drone Project</option>
                    <option>3D Printing</option>
                    <option>Other</option>
                </select>

                <button id="btn-${item.id}" class="btn-add" onclick="add(${item.id})" ${disabled}>
                    <i class="fa-solid fa-plus"></i> <span>${btnText}</span>
                </button>
            </div>
        </div>
        `;
    }).join('');
}

/* --- 3. LOGIC & INTERACTIONS --- */
function add(id) {
    const item = inventory.find(i => i.id === id);
    const projSelect = document.getElementById(`proj-${id}`);
    const btn = document.getElementById(`btn-${id}`);

    if(!projSelect.value) return alert("Please select a project purpose first.");
    if(cart.find(c => c.id === id)) return alert("Item already in cart.");

    // Add to state
    cart.push({...item, purpose: projSelect.value});
    
    // BUTTON ANIMATION (The "Colour Change" feature)
    const originalText = btn.innerHTML;
    btn.classList.add('active');
    btn.innerHTML = `<i class="fa-solid fa-check"></i> <span>Added!</span>`;
    
    setTimeout(() => {
        btn.classList.remove('active');
        btn.innerHTML = originalText;
    }, 1500);

    updateCartDisplay();
}

function updateCartDisplay() {
    document.getElementById('badge').innerText = cart.length;
    document.getElementById('totalCount').innerText = cart.length;
    
    const list = document.getElementById('cartItems');
    if(cart.length === 0) {
        list.innerHTML = `<div style="text-align:center; color:#94a3b8; margin-top:80px;">
            <i class="fa-solid fa-box-open" style="font-size:3rem; opacity:0.3; margin-bottom:10px;"></i>
            <p>Your cart is empty.</p></div>`;
        return;
    }

    list.innerHTML = cart.map((c, idx) => `
        <div class="cart-card">
            <div>
                <h4>${c.name}</h4>
                <p>Purpose: ${c.purpose}</p>
            </div>
            <i class="fa-solid fa-trash" style="color:#ef4444; cursor:pointer;" onclick="remove(${idx})"></i>
        </div>
    `).join('');
}

function remove(idx) { cart.splice(idx, 1); updateCartDisplay(); }
function toggleDrawer() { document.getElementById('drawer').classList.toggle('open'); }

/* --- 4. CHECKOUT --- */
function openModal() {
    if(cart.length === 0) return alert("Cart is empty.");
    document.getElementById('modal').classList.add('active');
}
function closeModal() { document.getElementById('modal').classList.remove('active'); }

function finish(e) {
    e.preventDefault();
    const name = document.getElementById('sName').value;
    const cls = document.getElementById('sClass').value;
    const sec = document.getElementById('sSection').value;
    
    alert(`Success! Items issued to:\n${name} (Class ${cls}-${sec})\n\nPlease collect items from the lab.`);
    
    cart = [];
    updateCartDisplay();
    closeModal();
    toggleDrawer();
    document.querySelector('form').reset();
    document.getElementById('sDate').valueAsDate = new Date();
}
</script>
</body>
</html>
